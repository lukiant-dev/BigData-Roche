<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
<title>What&#8217;s New in Apache Hadoop 0.21 | Cloudera Developer Blog</title>

<meta name="keywords" content="hadoop, hadoop training, cloudera, hadoop tutorial, hadoop certification, apache hadoop, hadoop download, big data, open source" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="msvalidate.01" content="8857B9071A02F989DE3F8BEE557BB584" />

<link rel="search" type="application/opensearchdescription+xml" href="/assets/opensearch.xml" title="Cloudera" />

<meta property="og:title" content="What&#8217;s New in Apache Hadoop 0.21"/>
<meta property="og:type" content="article"/>
<meta property="og:url" content="http://blog.cloudera.com/blog/2010/08/what%e2%80%99s-new-in-apache-hadoop-0-21/"/>
<meta property="og:site_name" content="Cloudera Developer Blog"/>


<link rel="icon" href="/wp-content/themes/solutionset/assets/favicon.ico" type="image/x-icon" /> 
<link rel="stylesheet" media="all" type="text/css" href="/wp-content/themes/solutionset/assets/css/960.css?070910" />
<link rel="stylesheet" media="all" type="text/css" href="/wp-content/themes/solutionset/assets/css/reset.css?070910" />
<link rel="stylesheet" media="all" type="text/css" href="/wp-content/themes/solutionset/assets/css/all.css?20120620" />
<link rel="stylesheet" media="all" type="text/css" href="/wp-content/themes/solutionset/assets/css/wp.css?20120620" /> 

<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="http://blog.cloudera.com/wp-content/themes/solutionset/assets/css/ie6.css?20120605" media="screen"/><![endif]-->
<!--[if lt IE 8]><link rel="stylesheet" type="text/css" href="http://blog.cloudera.com/wp-content/themes/solutionset/assets/css/ie6-7.css?20120605" media="screen"/><![endif]-->
<!--[if lt IE 9]><link rel="stylesheet" type="text/css" href="http://blog.cloudera.com/wp-content/themes/solutionset/assets/css/ie.css?20120605" media="screen"/><![endif]-->

<script type="text/javascript" src="/wp-content/themes/solutionset/assets/js/modernizr-2.6.1.min.js"></script>
<script type="text/javascript" src="/wp-content/themes/solutionset/assets/js/mootools-1.2.4-yui.js"></script>
<script type="text/javascript" src="/wp-content/themes/solutionset/assets/js/mootools-1.2.4.4-more-yui.js"></script>
<script type="text/javascript" src="/wp-content/themes/solutionset/assets/js/jquery-1.6.2.min.js"></script>
<script type="text/javascript"> jQuery.noConflict(); </script>
<script type="text/javascript" src="/wp-content/themes/solutionset/assets/js/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/wp-content/themes/solutionset/assets/js/global.js?20120605"></script>
<script type="text/javascript">var switchTo5x=true;</script>
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({publisher: "ur-aa86c136-1042-b30d-950-dd905bb179a0", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script>


<link rel="pingback" href="http://blog.cloudera.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Cloudera Developer Blog &raquo; Feed" href="http://blog.cloudera.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Cloudera Developer Blog &raquo; Comments Feed" href="http://blog.cloudera.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Cloudera Developer Blog &raquo; What&#8217;s New in Apache Hadoop 0.21 Comments Feed" href="http://blog.cloudera.com/blog/2010/08/what%e2%80%99s-new-in-apache-hadoop-0-21/feed/" />
<link rel='stylesheet' id='prettify-gc-syntax-highlighter-css'  href='http://blog.cloudera.com/wp-content/plugins/prettify-gc-syntax-highlighter/prettify.css?ver=3.3.2' type='text/css' media='all' />
<link rel='stylesheet' id='cptchStylesheet-css'  href='http://blog.cloudera.com/wp-content/plugins/captcha/css/style_wp_before_3.8.css?ver=3.3.2' type='text/css' media='all' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.cloudera.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.cloudera.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Using Apache Hadoop for Fraud Detection and Prevention' href='http://blog.cloudera.com/blog/2010/08/hadoop-for-fraud-detection-and-prevention/' />
<link rel='next' title='Hadoop World 2010: Speaker Highlights' href='http://blog.cloudera.com/blog/2010/08/hadoop-world-2010-speaker-highlights/' />
<meta name="generator" content="WordPress 3.3.2" />
<link rel='canonical' href='http://blog.cloudera.com/blog/2010/08/what%e2%80%99s-new-in-apache-hadoop-0-21/' />
<link rel='shortlink' href='http://blog.cloudera.com/?p=4519' />


<script type="text/javascript">
 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-2275969-16']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 })();
</script>


</head>
<body class="single single-post postid-4519 single-format-standard devcenter">
			
		
			
	<header id="site-head">
<nav class="properties">
            <div class="container">
                <ul>
                    <!--<li><a href="http://www.cloudera.com">Cloudera.com</a></li>-->
                     <!--<li><a href="http://university.cloudera.com">Cloudera University</a></li>
                   <li><a href="${config.LINK_CCP}/display/DOC/Documentation">Documentation</a></li>-->
                    <li><a id="support_home_page" href="http://cloudera.com/content/support/en/home.html" class="active">Support</a></li>
                    <li><a href="http://cloudera.com/content/dev-center/en/home.html">Developers</a></li>
                  <!--<li><a href="http://cloudera.com/content/cloudera/en/partners.html">PARTNERS</a></li>-->
                   
                </ul>
                <ul class="user">
                    <li>
                       <!--<a id="signinLink" class="hidden" href="https://clouderapkb.echolane.cs3.force.com/idp/login?app=0spQ00000004CD5">Sign In</a>-->
<a id="signinLink" class="hidden" href="https://cloudera.secure.force.com">Sign In</a>
                    </li>
                    <li><a id="registerLink" class="hidden" href="http://cloudera.com/content/support/en/user-registration.html">Register</a></li>
                    <li><a href="http://cloudera.com/content/cloudera/en/about/contact-us.html">Contact Us</a></li>
                    <li><a href="http://cloudera.com/content/support/en/downloads.html">Downloads</a></li>
                    <li>
                        <div id="dropdownAction" class="dropdown" style="display:none">
                            <a id="lnkDropdowntoogle" data-toggle="dropdown" class="dropdown-toggle" href="#">

                            </a>
                            <ul aria-labelledby="dropdownMenu" tole="menu" class="dropdown-menu">
                                <li><a href="http://cloudera.com/content/support/en/edit-user-profile.html" id="editProfileLink" tabindex="-1">Edit Profile</a></li>
                                <li class="divider"></li>
                                <li>
                                <a id="logoutLink" tabindex="-1" href="#">Logout</a>
                                </script>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="bg-fix"></div>
        </nav>
<!--</div>-->

<div class="wrapper">
    <div class="bg-fix"></div>
    <h1 class="logo">
        <a href="http://cloudera.com/content/cloudera/en/home.html">Cloudera</a>
    </h1>

<nav class="site">
        <ul>
    <li class="">
 <a href="http://community.cloudera.com" data-link="external">Community</a>
</li>
<li class="">
 <a href="http://cloudera.com/content/support/en/documentation.html" data-link="external">Documentation</a>
</li>
 <li class="">
                    <a href="http://cloudera.com/content/support/en/downloads.html" data-link="external">Downloads</a>
   </li>
     <li class="">
                    <a href="http://university.cloudera.com" data-link="external">Training</a>
     </li>
<li class="">
                    <a href="http://blog.cloudera.com" data-link="external" class="active">Blogs</a>
                    <nav class="subnav menu"> <nav><ul>
<li><a href="http://vision.cloudera.com">Cloudera Vision</a></li>
<!--<li><a href="http://blog.cloudera.com/blog">Developer Blog</a></li>-->
</ul>
</nav> </nav>
</li>
            
        </ul>
    </nav>


    <div class="form-holder">
		
	    <form action="http://cloudera.com/content/cloudera/en/search.html" id="site-search" method="get" novalidate> 
	        <label for="q" class="visuallyhidden">Search</label> 
	        <input type="search" name="q" id="q" placeholder="Search"><i class="icon-search"></i> 
	    </form>
    </div>
    </div><!--</div>-->
        </header>
				
	<div role="main" class="main">
		<div class="wrapper">
			<section class="two-col">

	
<aside class="left-col">

				<nav>
			<ul class=" ">
			
								
							<li class="">
				<a
					href="http://www.cloudera.com/content/cloudera/en/why-cloudera/hadoop-and-big-data.html"
					title="Hadoop &amp; Big Data"
					class=""
					target="_blank"				>
					Hadoop &amp; Big Data				</a>

							</li>
			
					<li class="">
				<a
					href="http://www.cloudera.com/content/cloudera/en/why-cloudera/our-customers.html"
					title="Our Customers"
					class=""
					target="_blank"				>
					Our Customers				</a>

							</li>
			
					<li class="">
				<a
					href="http://www.cloudera.com/content/cloudera/en/why-cloudera/faqs.html"
					title="FAQs"
					class=""
					target="_blank"				>
					FAQs				</a>

							</li>
			
					<li class="current">
				<a
					href="/blog/"
					title="Blog"
					class="blog"
									>
					Blog				</a>

									<ul>
									<li class="">
				<a
					href="/blog/category/accumulo/"
					title="Accumulo (1)"
					class=""
									>
					Accumulo (1)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/avro/"
					title="Avro (16)"
					class=""
									>
					Avro (16)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/bigtop/"
					title="Bigtop (6)"
					class=""
									>
					Bigtop (6)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/books/"
					title="Books (6)"
					class=""
									>
					Books (6)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/careers/"
					title="Careers (14)"
					class=""
									>
					Careers (14)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/cdh/"
					title="CDH (127)"
					class=""
									>
					CDH (127)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/cloud-2/"
					title="Cloud (9)"
					class=""
									>
					Cloud (9)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/cloudera-life/"
					title="Cloudera Life (3)"
					class=""
									>
					Cloudera Life (3)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/cloudera-manager/"
					title="Cloudera Manager (61)"
					class=""
									>
					Cloudera Manager (61)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/community/"
					title="Community (182)"
					class=""
									>
					Community (182)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/data-collection/"
					title="Data Collection (17)"
					class=""
									>
					Data Collection (17)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/data-science/"
					title="Data Science (26)"
					class=""
									>
					Data Science (26)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/distribution/"
					title="Distribution (36)"
					class=""
									>
					Distribution (36)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/events/"
					title="Events (37)"
					class=""
									>
					Events (37)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/flume/"
					title="Flume (18)"
					class=""
									>
					Flume (18)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/general/"
					title="General (327)"
					class=""
									>
					General (327)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/guest/"
					title="Guest (77)"
					class=""
									>
					Guest (77)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/hadoop/"
					title="Hadoop (294)"
					class=""
									>
					Hadoop (294)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/hardware/"
					title="Hardware (3)"
					class=""
									>
					Hardware (3)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/hbase/"
					title="HBase (124)"
					class=""
									>
					HBase (124)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/hdfs/"
					title="HDFS (45)"
					class=""
									>
					HDFS (45)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/hive/"
					title="Hive (62)"
					class=""
									>
					Hive (62)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/how-to/"
					title="How-to (53)"
					class=""
									>
					How-to (53)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/hue/"
					title="Hue (30)"
					class=""
									>
					Hue (30)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/impala/"
					title="Impala (63)"
					class=""
									>
					Impala (63)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/kite-sdk/"
					title="Kite SDK (11)"
					class=""
									>
					Kite SDK (11)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/mahout-2/"
					title="Mahout (5)"
					class=""
									>
					Mahout (5)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/mapreduce/"
					title="MapReduce (71)"
					class=""
									>
					MapReduce (71)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/meet-the-engineer/"
					title="Meet The Engineer (18)"
					class=""
									>
					Meet The Engineer (18)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/oozie/"
					title="Oozie (25)"
					class=""
									>
					Oozie (25)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/ops/"
					title="Ops And DevOps (19)"
					class=""
									>
					Ops And DevOps (19)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/pig/"
					title="Pig (35)"
					class=""
									>
					Pig (35)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/quickstart-vm/"
					title="QuickStart VM (5)"
					class=""
									>
					QuickStart VM (5)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/search/"
					title="Search (21)"
					class=""
									>
					Search (21)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/security-2/"
					title="Security (15)"
					class=""
									>
					Security (15)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/spark/"
					title="Spark (9)"
					class=""
									>
					Spark (9)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/sqoop/"
					title="Sqoop (20)"
					class=""
									>
					Sqoop (20)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/support/"
					title="Support (4)"
					class=""
									>
					Support (4)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/testing/"
					title="Testing (8)"
					class=""
									>
					Testing (8)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/this-month-in-the-ecosystem/"
					title="This Month In The Ecosystem (8)"
					class=""
									>
					This Month In The Ecosystem (8)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/tools/"
					title="Tools (6)"
					class=""
									>
					Tools (6)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/training-2/"
					title="Training (42)"
					class=""
									>
					Training (42)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/use-case/"
					title="Use Case (59)"
					class=""
									>
					Use Case (59)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/whirr/"
					title="Whirr (6)"
					class=""
									>
					Whirr (6)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/yarn/"
					title="YARN (13)"
					class=""
									>
					YARN (13)				</a>

							</li>
			
					<li class="">
				<a
					href="/blog/category/zookeeper/"
					title="ZooKeeper (24)"
					class=""
									>
					ZooKeeper (24)				</a>

							</li>
			
					<li class="">
				<a
					href="/archive/"
					title="Archives by Month"
					class=""
									>
					Archives by Month				</a>

							</li>
			
							</ul>
							</li>
			
						
			    
			
				<div style="clear:both"></div>
			</ul>
			</nav>
			<div class="menu-special">
				<ul>
							
				
				
		
				
		
				
				
				
				

		
					</ul>
			</div>
			
</aside>


<section>
			<h1 class="heading ">What&#8217;s New in Apache Hadoop 0.21</h1>
			
			<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
			
			<ul class="post-info">
				<li>by <a href="http://blog.cloudera.com/blog/author/tom/" title="Posts by Tom White" rel="author">Tom White</a></li>
				<li>August 26, 2010</li>
				<li class="comment"><a href="#comments">7 comments</a></li>
				
			</ul>
			
			<div class="text-block">
				<p><a href="http://hadoop.apache.org/common/docs/r0.21.0/">Apache Hadoop 0.21.0</a> was released on August 23, 2010. The last major release was 0.20.0 in April last year, so it&#8217;s not surprising that there are so many changes in this release, given the amount of activity in the Hadoop development community. In fact, there were over 1300 issues fixed in JIRA (<a href="https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;mode=hide&amp;sorter/order=DESC&amp;sorter/field=priority&amp;pid=12310240&amp;fixfor=12313563">Common</a>, <a href="https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;mode=hide&amp;sorter/order=DESC&amp;sorter/field=priority&amp;pid=12310942&amp;fixfor=12314046">HDFS</a>, <a href="https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;mode=hide&amp;sorter/order=DESC&amp;sorter/field=priority&amp;pid=12310941&amp;fixfor=12314045">MapReduce</a>), the issue tracker used for Apache Hadoop development. Bear in mind that the 0.21.0 release, like all dot zero releases, isn&#8217;t suitable for production use.</p>
<p>With such a large delta from the last release, it is difficult to grasp the important new features and changes. This post is intended to give a high-level view of some of the more significant features introduced in the 0.21.0 release. Of course, it can&#8217;t hope to cover everything, so please consult the release notes (<a href="http://hadoop.apache.org/common/docs/r0.21.0/releasenotes.html">Common</a>, <a href="http://hadoop.apache.org/hdfs/docs/r0.21.0/releasenotes.html">HDFS</a>, <a href="http://hadoop.apache.org/mapreduce/docs/r0.21.0/releasenotes.html">MapReduce</a>) and the change logs (<a href="http://hadoop.apache.org/common/docs/r0.21.0/changes.html">Common</a>, <a href="http://hadoop.apache.org/hdfs/docs/r0.21.0/changes.html">HDFS</a>, <a href="http://hadoop.apache.org/mapreduce/docs/r0.21.0/changes.html">MapReduce</a>) for the full details. Also, please let us know in the comments of any features, improvements, or bug fixes that you are excited about.</p>
<p>You can download Hadoop 0.21.0 from an <a href="http://www.apache.org/dyn/closer.cgi/hadoop/core/">Apache Mirror</a>. Thanks to everyone who contributed to this release!</p>
<p><span id="more-4519"></span></p>
<h2>Project Split</h2>
<p>Organizationally, a significant chunk of work has arisen from the project split, which transformed a single Hadoop project (called Core) into three constituents: <a href="http://hadoop.apache.org/common">Common</a>, <a href="http://hadoop.apache.org/hdfs">HDFS</a>, and <a href="http://hadoop.apache.org/mapreduce">MapReduce</a>. HDFS and MapReduce both have dependencies on Common, but (other than for running tests) MapReduce has no dependency on HDFS. This separation emphasizes the fact that MapReduce can run on alternative distributed file systems (although HDFS is still the best choice for sheer throughput and scalability), and it has made following development easier since there are now separate lists for each subproject. There is one release tarball still, however, although it is laid out a little differently from previous releases, since it has a subdirectory containing each of the subproject source files.</p>
<p>From a user&#8217;s point of view little has changed as a result of the split. The configuration files are divided into <em>core-site.xml</em>, <em>hdfs-site.xml</em>, and <em>mapred-site.xml</em> (this was supported in 0.20 too), and the control scripts are now broken into three (<a href="https://issues.apache.org/jira/browse/HADOOP-4868">HADOOP-4868</a>): in addition to the <em>bin/hadoop</em> script, there is a <em>bin/hdfs</em> script and a <em>bin/mapreduce</em> script for running HDFS and MapReduce daemons and commands, respectively. The <em>bin/hadoop</em> script still works as before, but issues a deprecation warning. Finally, you will need to set the <code>HADOOP_HOME</code> environment variable to have the scripts work smoothly.</p>
<h2>Common</h2>
<p>The 0.21.0 release is technically a minor release (traditionally Hadoop 0.x releases have been major, and have been allowed to <a href="http://wiki.apache.org/hadoop/Roadmap">break compatibility</a> with the previous 0.x-1 release) so it is API compatible with 0.20.2. To make the intended stability and audience of a particular API in Hadoop clear to users, all Java members with public visibility have been marked with <strong>classification annotations</strong> to say whether they are <code>Public</code>, or <code>Private</code> (there is also <code>LimitedPrivate</code> which signifies another, named, project may use it), and whether they are <code>Stable</code>, <code>Evolving</code>, or <code>Unstable</code> (<a href="https://issues.apache.org/jira/browse/HADOOP-5073">HADOOP-5073</a>). Only elements marked as <code>Public</code> appear in the user Javadoc (<a href="http://hadoop.apache.org/common/docs/r0.21.0/api/index.html">Common<a>, <a href="http://hadoop.apache.org/mapreduce/docs/r0.21.0/api/index.html">MapReduce</a>; note that HDFS is all marked as private since it is accessed through the <code>FileSystem</code> interface in Common). The classification interface is descibed in detail in <a href="http://developer.yahoo.net/blogs/hadoop/2010/05/towards_enterpriseclass_compat.html">Towards Enterprise-Class Compatibility for Apache Hadoop</a> by Sanjay Radia.</p>
<p>This release has seen some significant improvements to <strong>testing</strong>. The <strong>Large-Scale Automated Test Framework</strong>, known as Herriot (<a href="https://issues.apache.org/jira/browse/HADOOP-6332">HADOOP-6332</a>), allows developers to <a href="http://wiki.apache.org/hadoop/HowToUseSystemTestFramework">write tests</a> that run against a real (possibly large) cluster. While there are only a dozen or so tests at the moment, the intention is that more tests will be written over time so that regression tests can be shared and run against new Hadoop release candidates, thereby making Hadoop upgrades more predictable for users.</p>
<p>Hadoop 0.21 also introduces a <strong>fault injection framework</strong>, which uses AOP to <a href="http://hadoop.apache.org/hdfs/docs/r0.21.0/faultinject_framework.html">inject faults</a> into a part of the system that is running under test (e.g. a datanode), and asserts that the system reacts to the fault in the expected manner. Complementing fault injection is mock object testing, which tests code &#8220;in the small&#8221;, at the class-level rather than the system-level. Hadoop has a growing number of <strong>Mockito-based tests</strong> for this purpose (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-1050">MAPREDUCE-1050</a>). </p>
<p>Among the many other improvements and new features, a couple of small ones stand out: the ability to <strong>retrieve metrics and configuration</strong> from Hadoop daemons by accessing the URLs <em>/metrics</em> and <em>/conf</em> in a browser (<a href="https://issues.apache.org/jira/browse/HADOOP-5469">HADOOP-5469</a>, <a href="https://issues.apache.org/jira/browse/HADOOP-6408">HADOOP-6408</a>).</p>
<h2>HDFS</h2>
<p>Support for <strong>appends</strong> in HDFS has had a rocky history. The feature was introduced in the 0.19.0 release, and then disabled in 0.19.1 due to <a href="https://issues.apache.org/jira/browse/HADOOP-5224">stability issues</a>. The good news is that the append call is back in 0.21.0 with a brand new implementation (<a href="https://issues.apache.org/jira/browse/HDFS-265">HDFS-265</a>), and may be accessed via <code>FileSystem</code>&#8216;s <code>append()</code> method. Closely related&mdash;and more interesting for many applications, such as HBase&mdash;is the <code>Syncable</code> interface that <code>FSDataOutputStream</code> now implements, which brings sync semantics to HDFS (<a href="https://issues.apache.org/jira/browse/HADOOP-6313">HADOOP-6313</a>).</p>
<p>Hadoop 0.21 has a <strong>new filesystem API</strong>, called <code>FileContext</code>, which makes it easier for applications to work with multiple filesystems (<a href="https://issues.apache.org/jira/browse/HADOOP-4952">HADOOP-4952</a>). The API is not in widespread use yet (e.g. it is not integrated with MapReduce), but it has some features that the old <code>FileSystem</code> interface doesn&#8217;t, notably support for <strong>symbolic links</strong> (<a href="https://issues.apache.org/jira/browse/HADOOP-6421">HADOOP-6421</a>, <a href="https://issues.apache.org/jira/browse/HDFS-245">HDFS-245</a>).</p>
<p>The <strong>secondary namenode has been deprecated</strong> in 0.21. Instead you should consider running a <a href="http://hadoop.apache.org/hdfs/docs/r0.21.0/hdfs_user_guide.html#Checkpoint+Node">checkpoint node</a> (which essentially acts like a secondary namenode) or a <a href="http://hadoop.apache.org/hdfs/docs/r0.21.0/hdfs_user_guide.html#Backup+Node">backup node</a> (<a href="https://issues.apache.org/jira/browse/HADOOP-4539">HADOOP-4539</a>). By using a backup node you no longer need an NFS-mount for namenode metadata, since it accepts a stream of filesystem edits from the namenode, which it writes to disk.</p>
<p>New in 0.21 is the <strong>offline image viewer</strong> (oiv) for HDFS image files (<a href="https://issues.apache.org/jira/browse/HADOOP-5467">HADOOP-5467</a>). This <a href="http://hadoop.apache.org/hdfs/docs/r0.21.0/hdfs_imageviewer.html">tool</a> allows admins to analyze HDFS metadata without impacting the namenode (it also works with older versions of HDFS). There is also a <strong>block forensics tool</strong> for finding corrupt and missing blocks from the HDFS logs (<a href="https://issues.apache.org/jira/browse/HDFS-567">HDFS-567</a>).</p>
<p>Modularization continues in the platform with the introduction of <strong>pluggable block placement</strong> (<a href="https://issues.apache.org/jira/browse/HDFS-385">HDFS-385</a>), an expert-level interface for developers who want to try out new placement algorithms for HDFS. </p>
<p>Other notable new features include:</p>
<ul>
<li>Support for efficient <strong>file concatenation in HDFS</strong> (<a href="https://issues.apache.org/jira/browse/HDFS-222">HDFS-222</a>)</li>
<li><strong>Distributed RAID filesystem</strong> (<a href="https://issues.apache.org/jira/browse/HDFS-503">HDFS-503</a>) &#8211; an erasure coding filesystem running on HDFS, designed for archival storage since the replication factor is reduced from 3 to 2, while keeping the likelihood of data loss about the same. (Note that the RAID code is a MapReduce contrib module since it has a dependency on MapReduce for generating parity blocks.)</li>
</ul>
<h2>MapReduce</h2>
<p>The biggest user-facing change in MapReduce is the status of the <strong>new API</strong>, sometimes called &#8220;context objects&#8221;. The new API is now more broadly supported since the MapReduce libraries (in <code>org.apache.hadoop.mapreduce.lib</code>) have been ported to use it (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-334">MAPREDUCE-334</a>). The examples all use the new API too (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-271">MAPREDUCE-271</a>). Nevertheless, to give users more time to migrate to the new API, the old API has been un-deprecated in this release (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-1735">MAPREDUCE-1735</a>), which means that existing programs will compile without deprecation warnings.</p>
<p>The <code>LocalJobRunner</code> (for trying out MapReduce programs on small local datasets) has been enhanced to make it more like running MapReduce on a cluster. It now supports the <strong>distributed cache</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-476">MAPREDUCE-476</a>), and can <strong>run mappers in parallel</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-1367">MAPREDUCE-1367</a>).</p>
<p>Distcp has seen a number of small improvements too, such as <strong>preserving file modification times</strong> (<a href="https://issues.apache.org/jira/browse/HADOOP-5620">HADOOP-5620</a>), <strong>input file globbing</strong> (<a href="https://issues.apache.org/jira/browse/HADOOP-5472">HADOOP-5472</a>), and <strong>preserving the source path</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-642">MAPREDUCE-642</a>).</p>
<p>Continuing the testing theme, this release is the first to feature <strong>MRUnit</strong>, a contrib module that helps users write unit tests for their MapReduce jobs (<a href="https://issues.apache.org/jira/browse/HADOOP-5518">HADOOP-5518</a>).</p>
<p>Other new contrib modules include <strong>Rumen</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-751">MAPREDUCE-751</a>) and <strong>Mumak</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-728">MAPREDUCE-728</a>), tools for modelling MapReduce. The two are designed to work together: Rumen extracts job data from historical logs, which Mumak then uses to simulate MapReduce applications and clusters on a cluster. <a href="http://developer.yahoo.net/blogs/hadoop/2010/04/gridmix3_emulating_production.html">Gridmix3</a> is also designed to work with Rumen traces. The <strong>job history log analyzer</strong> is another tool that gives information about MapReduce cluster utilization (<a href="https://issues.apache.org/jira/browse/HDFS-459">HDFS-459</a>).</p>
<p>On the job scheduling front there have been updates to the Fair Scheduler, including <strong>global scheduling</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-548">MAPREDUCE-548</a>), <strong>preemption</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-551">MAPREDUCE-551</a>), and support for <strong>FIFO pools</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-706">MAPREDUCE-706</a>). Similarly, the Capacity Scheduler now supports <strong>hierarchical queues</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-824">MAPREDUCE-824</a>), and admin-defined <strong>hard limits</strong> (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-532">MAPREDUCE-532</a>). There is also a brand new scheduler, the Dynamic Priority Scheduler, which <a href="https://issues.apache.org/jira/browse/HADOOP-4768?focusedCommentId=12763348&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12763348">dynamically changes queue shares using a pricing model</a> (<a href="https://issues.apache.org/jira/browse/HADOOP-4768">HADOOP-4768</a>).</p>
<p><strong>Smarter speculative execution</strong> has been added to all schedulers using a more robust algorithm, called <a href="http://www.usenix.org/event/osdi08/tech/full_papers/zaharia/zaharia_html/">Longest Approximate Time to End (LATE)</a> (<a href="https://issues.apache.org/jira/browse/HADOOP-2141">HADOOP-2141</a>).</p>
<p>Finally, a couple of smaller changes:</p>
<ul>
<li><strong>Streaming combiners</strong> are now supported, so that the <code>-combiner</code> option may specify any streaming script or executable, not just a Java class. (<a href="https://issues.apache.org/jira/browse/HADOOP-4842">HADOOP-4842</a>)</li>
<li>On the successful completion of a job, the MapReduce runtime creates a <strong><em>_SUCCESS</em> file</strong> in the output directory. This may be useful for applications that need to see if a result set is complete just by inspecting HDFS. (<a href="https://issues.apache.org/jira/browse/MAPREDUCE-947">MAPREDUCE-947</a>)</li>
</ul>
<h2>What&#8217;s Not In</h2>
<p>Finally, it bears mentioning what didn&#8217;t make it into 0.21.0. The biggest omission is the new Kerberos authentication work from Yahoo! While a majority of the patches are included, security is turned off by default, and is unlikely to work if enabled (certainly there is no guarantee that it will provide any level of security, since it is incomplete). A full working security implementation will be available in 0.22, and also the next version of <a href="http://www.cloudera.com/hadoop/">CDH</a>.</p>
<p>Also, Sqoop, which was initially developed as a Hadoop contrib module, is not in 0.21.0, since it was moved out to become a standalone open source project <a href="http://wiki.github.com/cloudera/sqoop/">hosted on github</a>.</p>

				<div class="social-buttons">
<span class='st_facebook_large' displayText='Facebook'></span>
<span class='st_twitter_large' displayText='Tweet'></span>
<span class='st_linkedin_large' displayText='LinkedIn'></span>
<span class='st_googleplus_large' displayText='Google +'></span>
<span class='st_email_large' displayText='Email'></span>
				</div>
			</div>

			<div class="grid_2" style="margin:0">
  <div class="comments comments-2">
    <div class="field-under">
      <h4>Filed under:</h4>
      <ul class="post-categories">
	<li><a href="http://blog.cloudera.com/blog/category/general/" title="View all posts in General" rel="category tag">General</a></li>
	<li><a href="http://blog.cloudera.com/blog/category/hadoop/" title="View all posts in Hadoop" rel="category tag">Hadoop</a></li></ul>  	</div>
  	
  <a name="comments"></a>
  <div class="comments-head">
    <strong>7 Responses</strong>
   
  </div>
  <ul class="comments-list">
  	<li>
		<em class="comment-date">
			<a rel="nofollow" href="">Gokul</a> /
			September 24, 2010 / 3:37 AM		</em>
		<p>Wow&#8230;!!  nice description of all these amazing improvements.. hadoop rocks :-) feeling awesome to play with it&#8230;</p>
	</li>
</li>
	<li>
		<em class="comment-date">
			<a rel="nofollow" href="">Ben</a> /
			August 07, 2011 / 10:28 PM		</em>
		<p>This is a great post! do you know when stable hadoop 0.21 will be released for production?  Thanks!</p>
	</li>
</li>
	<li>
		<em class="comment-date">
			<a rel="nofollow" href="">Ben</a> /
			August 08, 2011 / 4:05 AM		</em>
		<p>I understand this is fairly old post, but what previous hadoop version is this post comparing 0.21 to?<br />
A friend of mine just told me that I shouldn&#8217;t be looking at 0.21 version, becaust the branch will be bailed out soon, and that hadoop will continue it&#8217;s development on 0.20.203 version.<br />
Is this true? any thoughts?</p>
	</li>
</li>
	<li>
		<em class="comment-date">
			<a rel="nofollow" href="">Todd Lipcon</a> /
			August 08, 2011 / 1:28 PM		</em>
		<p>Hi Ben,</p>
<p>This post was comparing against Hadoop 0.20.0.</p>
<p>Some of these features (but not all) have been backported onto various branches of the 0.20.* line &#8212; for example as part of CDH3 or as part of the 0.20.203 version, which are very similar to each other.</p>
<p>It is not true that trunk is abandoned. However, 0.21 was considered a development release, rather than a stable one. Our next major release will be off trunk, even though some sustaining development (bug fixes) continues to show up on 0.20.20x and in CDH.</p>
<p>As for what to use now, I would recommend using the most recent stable release of CDH, which at this moment is CDH3u1, released a few weeks back.</p>
<p>Thanks<br />
-Todd (Hadoop committer and Cloudera engineer)</p>
	</li>
</li>
  </ul>
  <a name="leave-comment"></a>
  <form action="/wp-comments-post.php" method="POST">
  	<div class="comment-form">
  		<h4>Leave a comment</h4>
  		<div class="row">
  			<input type="text" value="" class="txt" name="author"/>
  			<label>Name <span>required</span></label>
  		</div>
  		<div class="row">
  			<input type="text" value="" class="txt" name="email"/>
  			<label class="published">Email <span>required</span> <em>(will not be published)</em></label>
  		</div>
  		<div class="row">
  			<input type="text" value="" class="txt" name="url"/>
  			<label>Website</label>
  		</div>
  		<div class="row">
  			<textarea rows="10" cols="30" class="area" name="comment"></textarea>
  			<label>Comment</label>
  		</div>
  		<fieldset>
  			<input type="button" value="Leave Comment" class="btn cta"/>
  		</fieldset>
  	</div>
  	<input type='hidden' name='comment_post_ID' value='4519' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
  	<p class="cptch_block"><label>Prove you're human!<span class="required"> *</span></label><br />		<input type="hidden" name="cptch_result" value="Cm4=" />
		<input type="hidden" name="cptch_time" value="1398163237" />
		<input type="hidden" value="Version: 2.4" />
		<input id="cptch_input" type="text" autocomplete="off" name="cptch_number" value="" maxlength="2" size="2" aria-required="true" required="required" style="margin-bottom:0;display:inline;font-size: 12px;width: 40px;" /> &times; &#101;&#105;ght = 8	</p>  </form>
</div></section>




<!-- Google Code for New Remarketing Pixel -->
<!-- Remarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories. For instructions on adding this tag and more information on the above requirements, read the setup guide: google.com/ads/remarketingsetup -->
<script type="text/javascript">
/* <![CDATA[ */
var google_conversion_id = 1035979479;
var google_conversion_label = "xel9CJ-P0QMQ15X_7QM";
var google_custom_params = window.google_tag_params;
var google_remarketing_only = true;
/* ]]> */
</script>
<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
</script>

<noscript>
<div style="display:inline;"> <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1035979479/?value=0&label=xel9CJ-P0QMQ15X_7QM&guid=ON&script=0"/> </div>
</noscript>
</section>
<span class="bg-fix"></span>
</div>
</div>
<footer id="global-footer">
<div class="footerContent parbase">
<footer>
  <div class="wrapper">
    <div class="bg-fix"></div>
    <nav>
      <ul>
        <li class="section"><a href="http://www.cloudera.com/content/cloudera/en/products-and-services.html">Products</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/products/cloudera-enterprise.html">Cloudera Enterprise</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/products-and-services/cloudera-express.html">Cloudera Express</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/products-and-services/cloudera-enterprise/cloudera-manager.html">Cloudera Manager</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/products-and-services/cdh.html">CDH</a></li>
        <li><a href="http://www.cloudera.com/content/support/en/downloads.html">All Downloads</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/products-and-services/professional-services.html">Professional Services</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/training.html">Training</a></li>
      </ul>
      <ul>
        <li class="section"><a href="http://www.cloudera.com/content/cloudera/en/solutions.html">Solutions</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/solutions/enterprise-solutions.html">Enterprise Solutions</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/solutions/partner.html">Partner Solutions</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/solutions/industries.html">Industry Solutions</a></li>
      </ul>
      <ul>
        <li class="section"><a href="http://www.cloudera.com/content/cloudera/en/partners.html">Partners</a></li>
        <li class="section"><a href="http://www.cloudera.com/content/cloudera/en/resources/library.html">Resource Library</a></li>
        <li class="section"><a href="https://ccp.cloudera.com/display/SUPPORT/Get+Support">Support</a></li>
      </ul>
      <ul>
        <li class="section"><a href="http://www.cloudera.com/content/cloudera/en/about.html">About</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/about/hadoop-and-big-data.html">Hadoop &amp; Big Data</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/about/management.html">Management Team</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/about/board.html">Board</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/about/events.html">Events</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/about/press-center.html">Press Center</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/about/careers.html">Careers</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/about/contact-form.html">Contact Us</a></li>
        <li><a href="http://www.cloudera.com/content/cloudera/en/subscription-center.html">Subscription Center</a></li>
      </ul>
      <div class="locale-and-social" style="float:right">
        <div>
          <div class="locale-and-social">
            <div class="locale">
              <select onchange="this.options[this.selectedIndex].value &amp;&amp; (window.location = this.options[this.selectedIndex].value);" class="site-language">
                <option value="http://www.cloudera.com" name="English">English</option>
                <option value="http://www.cloudera.co.jp/">Japanese</option>
              </select>
            </div>
            <div class="social"><span class="follow">Follow us:</span><span class="share">Share:<i class="icon-share"></i></span>
              <ul>
                <li><a class="linkedIn" target="_blank" href="http://www.linkedin.com/company/cloudera">LinkedIn</a></li>
                <li><a class="twitter" target="_blank" href="http://twitter.com/cloudera">Twitter</a></li>
                <li><a class="facebook" target="_blank" href="http://www.facebook.com/cloudera">Facebook</a></li>
                <li><a class="youtube" target="_blank" href="http://www.youtube.com/user/clouderahadoop">YouTube</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <nav class="global-footer"><span class="logo"><a>Cloudera</a></span>
      <address>
      <span>Cloudera, Inc.</span> <span><a target="_blank" href="http://www.google.com/maps?q=1001+Page+Mill+Rd,+Palo+Alto,+CA+94306">1001 Page Mill Road Bldg 2</a></span> <span>Palo Alto, CA 94304</span>
      </address>
      <address>
      <span><a href="http://www.cloudera.com">www.cloudera.com</a></span> <span>US: 1-888-789-1488</span> <span>Intl: 1-650-362-0488</span>
      </address>
      <div class="copyright"><span><span class="piped">©2014 Cloudera, Inc. All rights reserved</span><span class="piped"><a href="http://www.cloudera.com/content/cloudera/en/terms-of-service.html">Terms &amp; Conditions</a></span><a href="http://www.cloudera.com/content/cloudera/en/privacy-policy.html">Privacy Policy</a></span> <span>Hadoop and the Hadoop elephant logo are trademarks of the <a target="_blank" href="http://www.apache.org/">Apache Software Foundation</a>.</span></div>
    </nav>
  </div>
</footer>
<script type='text/javascript' src='http://blog.cloudera.com/wp-content/plugins/prettify-gc-syntax-highlighter/prettify.js?ver=3.3.2'></script>
<script type='text/javascript' src='http://blog.cloudera.com/wp-content/plugins/prettify-gc-syntax-highlighter/launch.js?ver=3.3.2'></script>
<div class="modal" style="display:none">
  <div id="password-required">
    <div class="inner"> </div>
  </div>
</div>
<div class="tooltip" class="tooltip" style="display:none">
</div>
<script type="text/javascript" src="http://dnn506yrbagrg.cloudfront.net/pages/scripts/0011/2160.js"></script>
<script type="text/javascript">var _kiq = _kiq || [];</script> 
<script type="text/javascript" src="http://s3.amazonaws.com/ki.js/14646/2Sr.js" async></script>
</body></html>
